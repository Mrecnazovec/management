// ListSvg.tsx
'use client'

import { useEffect, useRef, useState } from 'react'

interface Props {
	variant: keyof typeof svgVariants
	startColor: string
	endColor: string
	className?: string
}

interface SvgVariant {
	clipId: string
	gradients: {
		id: string
		x1: string
		y1: string
		x2: string
		y2: string
	}[]
	paths: {
		d: string
		fill: string
	}[]
}

const svgVariants: Record<string, SvgVariant> = {
	one: {
		clipId: 'clip',
		gradients: [{ id: 'gradient', x1: '36', y1: '0.84375', x2: '36', y2: '71.1562' }],
		paths: [
			{
				fill: 'url(#gradient)',
				d: 'M36 3.65625C44.6344 3.65625 52.7625 7.03125 58.8656 13.1344C64.9688 19.2375 68.3438 27.3656 68.3438 36C68.3438 44.6344 64.9688 52.7625 58.8656 58.8656C52.7625 64.9688 44.6344 68.3438 36 68.3438C27.3656 68.3438 19.2375 64.9688 13.1344 58.8656C7.03125 52.7625 3.65625 44.6344 3.65625 36C3.65625 27.3656 7.03125 19.2375 13.1344 13.1344C19.2375 7.03125 27.3656 3.65625 36 3.65625ZM36 0.84375C16.5938 0.84375 0.84375 16.5938 0.84375 36C0.84375 55.4062 16.5938 71.1562 36 71.1562C55.4062 71.1562 71.1562 55.4062 71.1562 36C71.1562 16.5938 55.4062 0.84375 36 0.84375Z',
			},
			{
				fill: 'url(#gradient)',
				d: 'M33.4406 26.1563L27.1687 27.5907L25.2 19.6313L36.0843 16.5657H43.5937V53.9719H33.4687V26.1563H33.4406Z',
			},
		],
	},
	two: {
		clipId: 'clip0_403_100',
		gradients: [
			{ id: 'gradient0', x1: '36', y1: '0.84375', x2: '36', y2: '71.1562' },
			{ id: 'gradient1', x1: '35.9014', y1: '16.1719', x2: '35.9014', y2: '53.9156' },
		],
		paths: [
			{
				fill: 'url(#gradient0)',
				d: 'M36 3.65625C44.6344 3.65625 52.7625 7.03125 58.8656 13.1344C64.9688 19.2375 68.3438 27.3656 68.3438 36C68.3438 44.6344 64.9688 52.7625 58.8656 58.8656C52.7625 64.9688 44.6344 68.3438 36 68.3438C27.3656 68.3438 19.2375 64.9688 13.1344 58.8656C7.03125 52.7625 3.65625 44.6344 3.65625 36C3.65625 27.3656 7.03125 19.2375 13.1344 13.1344C19.2375 7.03125 27.3656 3.65625 36 3.65625ZM36 0.84375C16.5938 0.84375 0.84375 16.5938 0.84375 36C0.84375 55.4062 16.5938 71.1562 36 71.1562C55.4062 71.1562 71.1562 55.4062 71.1562 36C71.1562 16.5938 55.4062 0.84375 36 0.84375Z',
			},
			{
				fill: 'url(#gradient1)',
				d: 'M21.2061 46.2094L35.0998 35.6062C38.6154 32.9625 39.8811 31.1625 39.8811 28.9125C39.8811 26.5781 38.2498 25.1438 35.7467 25.1438C33.2436 25.1438 31.3029 26.5781 28.3779 29.925L21.4029 24.1313C25.3686 18.9844 29.3061 16.1719 36.5342 16.1719C44.6623 16.1719 50.2311 21.0094 50.2311 28.0969C50.2311 34.0312 47.1936 37.1813 41.6248 41.0906L35.2686 45.5344H50.5967V53.9156H21.2061V46.2094Z',
			},
		],
	},
	three: {
		clipId: 'clip0_403_82',
		gradients: [
			{ id: 'gradient0', x1: '36', y1: '0.84375', x2: '36', y2: '71.1562' },
			{ id: 'gradient1', x1: '35.5501', y1: '16.8187', x2: '35.5501', y2: '54.7031' },
		],
		paths: [
			{
				fill: 'url(#gradient0)',
				d: 'M36 3.65625C44.6344 3.65625 52.7625 7.03125 58.8656 13.1344C64.9688 19.2375 68.3438 27.3656 68.3438 36C68.3438 44.6344 64.9688 52.7625 58.8656 58.8656C52.7625 64.9688 44.6344 68.3438 36 68.3438C27.3656 68.3438 19.2375 64.9688 13.1344 58.8656C7.03125 52.7625 3.65625 44.6344 3.65625 36C3.65625 27.3656 7.03125 19.2375 13.1344 13.1344C19.2375 7.03125 27.3656 3.65625 36 3.65625ZM36 0.84375C16.5938 0.84375 0.84375 16.5938 0.84375 36C0.84375 55.4062 16.5938 71.1562 36 71.1562C55.4062 71.1562 71.1562 55.4062 71.1562 36C71.1562 16.5938 55.4062 0.84375 36 0.84375Z',
			},
			{
				fill: 'url(#gradient1)',
				d: 'M20.4751 48.1219L26.9438 41.6531C29.5876 44.3531 32.4001 45.9 35.8032 45.9C38.7282 45.9 40.5845 44.4093 40.5845 42.0187C40.5845 39.6281 38.4188 38.1937 34.5376 38.1937H30.1782L28.6876 32.8218L37.2376 25.1156H23.0345V16.8187H49.8938V24.1875L41.0345 31.7812C46.3501 32.9625 50.6251 35.9156 50.6251 42.3281C50.6251 49.8656 44.5782 54.7031 36.3095 54.7031C29.1376 54.7031 24.0751 52.1156 20.4751 48.1219Z',
			},
		],
	},
	four: {
		clipId: 'clip0_403_109',
		gradients: [
			{ id: 'gradient0', x1: '0.84375', y1: '36', x2: '71.1562', y2: '36' },
			{ id: 'gradient1', x1: '18.4219', y1: '35.2829', x2: '52.8188', y2: '35.2829' },
		],
		paths: [
			{
				fill: 'url(#gradient0)',
				d: 'M36 3.65625C44.6344 3.65625 52.7625 7.03125 58.8656 13.1344C64.9688 19.2375 68.3438 27.3656 68.3438 36C68.3438 44.6344 64.9688 52.7625 58.8656 58.8656C52.7625 64.9688 44.6344 68.3438 36 68.3438C27.3656 68.3438 19.2375 64.9688 13.1344 58.8656C7.03125 52.7625 3.65625 44.6344 3.65625 36C3.65625 27.3656 7.03125 19.2375 13.1344 13.1344C19.2375 7.03125 27.3656 3.65625 36 3.65625ZM36 0.84375C16.5938 0.84375 0.84375 16.5938 0.84375 36C0.84375 55.4062 16.5938 71.1562 36 71.1562C55.4062 71.1562 71.1562 55.4062 71.1562 36C71.1562 16.5938 55.4062 0.84375 36 0.84375Z',
			},
			{
				fill: 'url(#gradient1)',
				d: 'M38.1094 46.7438H20.1094L18.4219 39.4875L37.6875 16.5657H48.0938V39.0657H52.8188V46.7719H48.0938V54H38.1094V46.7438ZM38.1094 39.0938V28.4344L29.2219 39.0938H38.1094Z',
			},
		],
	},
	five: {
		clipId: 'clip0_403_91',
		gradients: [
			{ id: 'gradient0', x1: '36', y1: '0.84375', x2: '36', y2: '71.1562' },
			{ id: 'gradient1', x1: '35.5077', y1: '16.7906', x2: '35.5077', y2: '54.7313' },
		],
		paths: [
			{
				fill: 'url(#gradient0)',
				d: 'M36 3.65625C44.6344 3.65625 52.7625 7.03125 58.8656 13.1344C64.9688 19.2375 68.3438 27.3656 68.3438 36C68.3438 44.6344 64.9688 52.7625 58.8656 58.8656C52.7625 64.9688 44.6344 68.3438 36 68.3438C27.3656 68.3438 19.2375 64.9688 13.1344 58.8656C7.03125 52.7625 3.65625 44.6344 3.65625 36C3.65625 27.3656 7.03125 19.2375 13.1344 13.1344C19.2375 7.03125 27.3656 3.65625 36 3.65625ZM36 0.84375C16.5938 0.84375 0.84375 16.5938 0.84375 36C0.84375 55.4062 16.5938 71.1562 36 71.1562C55.4062 71.1562 71.1562 55.4062 71.1562 36C71.1562 16.5938 55.4062 0.84375 36 0.84375Z',
			},
			{
				fill: 'url(#gradient1)',
				d: 'M20.3062 48.825L26.1843 41.9063C29.2218 44.4657 32.0624 45.9282 35.2124 45.9282C38.6155 45.9282 40.6687 44.2407 40.6687 41.4844C40.6687 38.8407 38.4468 37.1813 35.2124 37.1813C32.9343 37.1813 31.0218 37.9688 29.278 39.0375L23.1749 35.6344L24.2437 16.7906H49.078V25.3125H32.3437L32.0343 30.9375C33.7218 30.15 35.4937 29.6157 37.9687 29.6157C44.6624 29.6157 50.7093 33.3282 50.7093 41.5125C50.7093 49.7813 44.3812 54.7313 35.3812 54.7313C28.7718 54.7032 24.1593 52.425 20.3062 48.825Z',
			},
		],
	},
}

export function ListSvg({ variant, startColor, endColor, className }: Props) {
	const startRef = useRef<HTMLDivElement>(null)
	const endRef = useRef<HTMLDivElement>(null)
	const [colors, setColors] = useState({ start: '#000', end: '#000' })

	useEffect(() => {
		if (startRef.current && endRef.current) {
			const start = getComputedStyle(startRef.current).backgroundColor
			const end = getComputedStyle(endRef.current).backgroundColor
			setColors({ start, end })
		}
	}, [])

	const variantData = svgVariants[variant]

	return (
		<div className={`w-[72px] h-[72px] relative ${className || ''}`}>
			<div ref={startRef} className={`${startColor} hidden`} />
			<div ref={endRef} className={`${endColor} hidden`} />

			<svg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'>
				<defs>
					{variantData.gradients.map((grad) => (
						<linearGradient key={grad.id} id={grad.id} x1={grad.x1} y1={grad.y1} x2={grad.x2} y2={grad.y2} gradientUnits='userSpaceOnUse'>
							<stop stopColor={colors.start} />
							<stop offset='1' stopColor={colors.end} />
						</linearGradient>
					))}
					<clipPath id={variantData.clipId}>
						<rect width='72' height='72' fill='white' />
					</clipPath>
				</defs>
				<g clipPath={`url(#${variantData.clipId})`}>
					{variantData.paths.map((path, idx) => (
						<path key={idx} d={path.d} fill={path.fill} />
					))}
				</g>
			</svg>
		</div>
	)
}
